---
import logos from "../data/footerLogos.js";
import ImpressumPopup from "../components/ImpressumPopup.astro";
---

<style>
  footer {
    padding: 0;
    text-align: center;
  }
  .footer-wave {
    width: 100%;
    display: block;
    line-height: 0;
    margin-bottom: -1px;
  }
  .footer-content {
    background-color: #fff;
    padding: 0;
    margin: 0;
  }
  .footer-logos-desktop {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .footer-logos-mobile {
    display: none;
  }
  @media (max-width: 1023px) {
    .footer-logos-desktop {
      display: none;
    }
    .footer-logos-mobile {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
    }
    .footer-logo-half {
      width: 50%;
      max-width: 45%;
    }
    .footer-logo-wide {
      width: 100%;
      max-width: 100%;
      flex: 0 0 100%;
    }
  }
  .footer-logo {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 5px;
  }
  .footer-logo img {
    max-height: 120px;
    max-width: 90%;
    width: auto;
    height: auto;
    display: block;
  }

  .footer-logos-desktop .footer-logo {
    width: 1000px;
    max-width: 1000px;
    height: auto;
  }
  .footer-logos-desktop .footer-logo img {
    width: 100%;
    max-width: 1000px;
    height: auto;
    max-height: none;
  }
  .footer-logos-header {
    width: 100%;
    text-align: center;
    margin-bottom: 1rem;
    font-weight: bold;
    font-size: 2.2rem;
    color: var(--color-primary);
  }
</style>
<footer>
  <svg
    class="footer-wave"
    viewBox="0 0 1440 80"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="none"
  >
    <path
      d="M0,0 C240,60 480,20 720,60 C960,100 1200,20 1440,60 L1440,80 L0,80 Z"
      fill="#ffffff"></path>
  </svg>

  
  <div class="footer-content">
      <div class="footer-logos-header">Pr√§sentiert von:</div>
    <!-- Desktop: Only Ansicht.png -->
    <div class="footer-logos-desktop">
      <div class="footer-logo">
        <img src="./Ansicht.png" alt="Ansicht" />
      </div>
    </div>
    <!-- Mobile: All logos, dynamic width and grouping -->
    <div class="footer-logos-mobile">
      {logos.map((logo) => {
        const widthClass = logo.aspect > 3 ? 'footer-logo-wide' : 'footer-logo-half';
        return logo.link ? (
          <div class={`footer-logo ${widthClass}`}>
            <a href={logo.link} target="_blank" rel="noopener">
              <img src={logo.src} alt={logo.alt} />
            </a>
          </div>
        ) : (
          <div class={`footer-logo ${widthClass}`}>
            <img src={logo.src} alt={logo.alt} />
          </div>
        );
      })}
    </div>
    <div
      style="float: right; align-items: center; justify-content: center; padding: 1rem;"
    >
      <ImpressumPopup />
    </div>
  </div>
</footer>
